{"version":3,"file":"static/js/318.b923b7f4.chunk.js","mappings":"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","sources":["api/movies.js","webpack://react-homework-template/./src/components/MoviesList/movie-list.module.css?ff8e","components/MoviesList/MoviesList.jsx","webpack://react-homework-template/./src/pages/MoviesPage/movies-page.module.css?9b57","webpack://react-homework-template/./src/components/Movies/movies.module.css?968c","webpack://react-homework-template/./src/components/SearchForm/search-form.module.css?4214","components/SearchForm/SearchForm.jsx","components/Movies/Movies.jsx","pages/MoviesPage/MoviesPage.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = 'ab290b9ac3d51cd9ec545a0b6eb96b92';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n});\n\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer   eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhYjI5MGI5YWMzZDUxY2Q5ZWM1NDVhMGI2ZWI5NmI5MiIsInN1YiI6IjY1YzI0YTAxYTMzNjEyMDBlNjUzYTI1OCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.kPtrdl2CeCwFN8Vh-UEzJf-KQ5SS8ZaqztMaE2eqoSY',\n  },\n};\n\nexport const getTrending = () => {\n  return instance.get(\n    `/trending/movie/day?language=en-US&api_key=${API_KEY}`,\n    options\n  );\n};\n\nexport const searchMovies = query => {\n  return instance.get(`/search/movie?language=en-US&api_key=${API_KEY}`, {\n    ...options,\n    params: {\n      query,\n    },\n  });\n};\n\nexport const getMovieDetails = id => {\n  return instance.get(\n    `/movie/${id}?language=en-US&api_key=${API_KEY}`,\n    options\n  );\n};\n\nexport const getMovieCast = id => {\n  return instance.get(\n    `/movie/${id}/credits?language=en-US&api_key=${API_KEY}`,\n    options\n  );\n};\n\nexport const getMovieReviews = id => {\n  return instance.get(\n    `/movie/${id}/reviews?language=en-US&api_key=${API_KEY}`,\n    options\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"movie-list_item__he69l\",\"title\":\"movie-list_title__Jqb4-\"};","import { Link, useLocation } from 'react-router-dom';\nimport styles from './movie-list.module.css';\n\nconst MovieList = ({ id, title }) => {\n  const location = useLocation();\n  return (\n    <li className={styles.item}>\n      <Link to={`/movies/${id}`} state={{ from: location }}>\n        <p className={styles.title}>{title}</p>\n      </Link>\n    </li>\n  );\n};\n\nexport default MovieList;\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"movies-page_container__WI70c\"};","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"movies_list__qGO0R\"};","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"search-form_form__+aeW5\",\"btn\":\"search-form_btn__DFOt9\"};","import { useState } from 'react';\nimport styles from './search-form.module.css';\n\nconst SearchForm = ({ onSubmit }) => {\n  const [state, setState] = useState({\n    query: '',\n  });\n  const handleChange = ({ target }) => {\n    const { name, value } = target;\n    setState({\n      ...state,\n      [name]: value,\n    });\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit({ ...state });\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className={styles.form}>\n      <input type=\"text\" name=\"query\" value={state.query} onChange={handleChange} required placeholder=\"Search movie\" />\n      <button type=\"submit\" className={styles.btn}>\n        Search\n      </button>\n    </form>\n  );\n};\nexport default SearchForm;\n","import styles from './movies.module.css';\nimport { searchMovies } from 'api/movies';\nimport { useEffect, useState } from 'react';\nimport SearchForm from 'components/SearchForm/SearchForm';\nimport MovieList from 'components/MoviesList/MoviesList';\nimport { useSearchParams } from 'react-router-dom';\n\nconst Movies = () => {\n  const [picture, setPicture] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      try {\n        setLoading(true);\n        const { data } = await searchMovies(query);\n        setPicture(data?.results ? data.results : []);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchMovies();\n  }, [query]);\n\n  const handleSearch = ({ query }) => {\n    setSearchParams({ query });\n    setPicture([]);\n  };\n\n  return (\n    <>\n      <SearchForm onSubmit={handleSearch} />\n      {loading && <p>...Loading</p>}\n      {error && <p>Error {error}</p>}\n      <ul className={styles.list}>\n        {picture.map(({ id, title }) => (\n          <MovieList key={id} title={title} id={id} />\n        ))}\n      </ul>\n    </>\n  );\n};\nexport default Movies;\n","import styles from './movies-page.module.css';\nimport Movies from 'components/Movies/Movies';\n\nconst MoviesPage = () => {\n  return (\n    <div className={styles.container}>\n      <Movies />\n    </div>\n  );\n};\nexport default MoviesPage;\n"],"names":["API_KEY","instance","axios","baseURL","options","method","headers","accept","Authorization","getTrending","get","concat","searchMovies","query","params","getMovieDetails","id","getMovieCast","getMovieReviews","_ref","title","location","useLocation","_jsx","className","styles","children","Link","to","state","from","onSubmit","setState","useState","_jsxs","e","preventDefault","type","name","value","onChange","_ref2","target","required","placeholder","Movies","picture","setPicture","loading","setLoading","error","setError","searchParams","setSearchParams","useSearchParams","useEffect","async","data","results","message","fetchMovies","_Fragment","SearchForm","map","MovieList","MoviesPage"],"sourceRoot":""}