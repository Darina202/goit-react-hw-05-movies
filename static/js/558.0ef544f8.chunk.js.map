{"version":3,"file":"static/js/558.0ef544f8.chunk.js","mappings":"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","sources":["api/movies.js","webpack://react-homework-template/./src/pages/OneMoviePage/one-movie-page.module.css?c5d5","webpack://react-homework-template/./src/components/MovieDetails/movie-details.module.css?79a2","components/MovieDetails/MovieDetails.jsx","pages/OneMoviePage/OneMoviePage.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = 'ab290b9ac3d51cd9ec545a0b6eb96b92';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n});\n\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer   eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhYjI5MGI5YWMzZDUxY2Q5ZWM1NDVhMGI2ZWI5NmI5MiIsInN1YiI6IjY1YzI0YTAxYTMzNjEyMDBlNjUzYTI1OCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.kPtrdl2CeCwFN8Vh-UEzJf-KQ5SS8ZaqztMaE2eqoSY',\n  },\n};\n\nexport const getTrending = () => {\n  return instance.get(\n    `/trending/movie/day?language=en-US&api_key=${API_KEY}`,\n    options\n  );\n};\n\nexport const searchMovies = query => {\n  return instance.get(`/search/movie?language=en-US&api_key=${API_KEY}`, {\n    ...options,\n    params: {\n      query,\n    },\n  });\n};\n\nexport const getMovieDetails = id => {\n  return instance.get(\n    `/movie/${id}?language=en-US&api_key=${API_KEY}`,\n    options\n  );\n};\n\nexport const getMovieCast = id => {\n  return instance.get(\n    `/movie/${id}/credits?language=en-US&api_key=${API_KEY}`,\n    options\n  );\n};\n\nexport const getMovieReviews = id => {\n  return instance.get(\n    `/movie/${id}/reviews?language=en-US&api_key=${API_KEY}`,\n    options\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"one-movie-page_container__fn29r\",\"title\":\"one-movie-page_title__ndRyb\",\"list\":\"one-movie-page_list__cxyy6\"};","// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"movie-details_btn__7lR9k\",\"movie\":\"movie-details_movie__0sLxR\",\"descr\":\"movie-details_descr__eWCvS\",\"title\":\"movie-details_title__0HjVA\",\"text\":\"movie-details_text__iD+xY\",\"data\":\"movie-details_data__KQ9DX\"};","import styles from './movie-details.module.css';\nimport { useEffect, useState } from 'react';\nimport { getMovieDetails } from 'api/movies';\nimport { useLocation, useNavigate, useParams } from 'react-router-dom';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [picture, setPicture] = useState();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n  const location = useLocation();\n  const backButton = location?.state?.from ?? '/';\n  let genres;\n  let avgPers;\n  const defPicture = 'https://ih1.redbubble.net/image.533910704.5853/fposter,small,wall_texture,product,750x1000.u3.jpg';\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      try {\n        setLoading(true);\n        const { data } = await getMovieDetails(movieId);\n        setPicture(data ? data : []);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchMovies();\n  }, [movieId]);\n\n  if (picture) {\n    genres = picture.genres.map(genr => genr.name).join(', ');\n    avgPers = Math.round((picture.vote_average / 10) * 100);\n  }\n\n  const goBack = () => navigate(backButton);\n\n  return (\n    <div>\n      {loading && <p>...Loading</p>}\n      {error && <p>Error {error}</p>}\n      <button onClick={goBack} type=\"button\" className={styles.btn}>\n        Go back\n      </button>\n      <div className={styles.movie}>\n        {picture && (\n          <>\n            <img\n              src={picture.poster_path ? `https://image.tmdb.org/t/p/original${picture.poster_path}` : defPicture}\n              alt={picture.title}\n              width=\"400px\"\n            />\n            <div className={styles.descr}>\n              <h2 className={styles.title}>{picture.title}</h2>\n              <p className={styles.data}>User score: {avgPers}%</p>\n              <h4 className={styles.text}>Overwiev</h4>\n              <p className={styles.data}>{picture.overview}</p>\n              <h4 className={styles.text}>Genres</h4>\n              <p className={styles.data}>{genres}</p>\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\nexport default MovieDetails;\n","import { Link, Outlet, useLocation } from 'react-router-dom';\nimport styles from './one-movie-page.module.css';\nimport MovieDetails from 'components/MovieDetails/MovieDetails';\n\nconst OneMoviePage = () => {\n  const location = useLocation();\n  const backButton = location?.state?.from ?? '/';\n\n  return (\n    <div className={styles.container}>\n      <MovieDetails />\n      <h3 className={styles.title}>Additional information</h3>\n      <ul className={styles.list}>\n        <li>\n          <Link to=\"cast\" state={{ from: backButton }}>\n            Cast\n          </Link>\n        </li>\n        <li>\n          <Link to=\"reviews\" state={{ from: backButton }}>\n            Reviews\n          </Link>\n        </li>\n      </ul>\n      <Outlet />\n    </div>\n  );\n};\nexport default OneMoviePage;\n"],"names":["API_KEY","instance","axios","baseURL","options","method","headers","accept","Authorization","getTrending","get","concat","searchMovies","query","params","getMovieDetails","id","getMovieCast","getMovieReviews","MovieDetails","_location$state$from","_location$state","movieId","useParams","picture","setPicture","useState","loading","setLoading","error","setError","navigate","useNavigate","location","useLocation","backButton","state","from","genres","avgPers","useEffect","async","data","message","fetchMovies","map","genr","name","join","Math","round","vote_average","_jsxs","children","_jsx","onClick","goBack","type","className","styles","_Fragment","src","poster_path","alt","title","width","overview","OneMoviePage","Link","to","Outlet"],"sourceRoot":""}